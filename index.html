<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="styles.css" />
  </head>
  <body>
    <div class="header">
      <img src="logo.png" alt="Logo" class="logo" />
      <h1>PalPalette Firmware</h1>
    </div>

    <div id="main" style="display: none">
      <br />
      <script
        type="module"
        src="https://unpkg.com/esp-web-tools/dist/web/install-button.js?module"
      ></script>
      <esp-web-install-button id="installButton" manifest="./manifest.json">
        <button slot="activate">Install PalPalette</button>
        <span slot="unsupported">Ah snap, your browser doesn't work!</span>
        <span slot="not-allowed"
          >Ah snap, you are not allowed to use this on HTTP!</span
        >
      </esp-web-install-button>
      <br />
      <span
        >NOTE: Make sure to close anything using your devices com port (e.g.
        Serial monitor)</span
      >
    </div>
    <div id="notSupported" style="display: none">
      Your browser does not support the Web Serial API. Try Chrome.
    </div>

    <script>
      if (navigator.serial) {
        document.getElementById("notSupported").style.display = "none";
        document.getElementById("main").style.display = "block";
      } else {
        document.getElementById("notSupported").style.display = "block";
        document.getElementById("main").style.display = "none";
      }
    </script>
  </body>
</html>
